(function(a,b){var c;typeof module!=="undefined"&&module.exports!==b?c=module.exports:c=a.$={},c.bind=function(){var a=Array.prototype.slice,b=Function.prototype.bind||function(a){var b=this;return function(){return b.apply(a,arguments)}};return function(c,d){return b.apply(c,a.call(arguments,1))}}(),c.each=function(){var b=a.TypeError||function b(){};return function(a,d,e){if(a!=null){var f=typeof d,g;if(f!=="function")throw new b(f+" is not a function");if(c.type(a)==="array"){for(g=0;g<a.length;++g)if(d.call(e,a[g],g,a)===!1)return}else for(g in a)if(d.call(e,a[g],g,a)===!1)return}}}(),c.env={dev:!0,client:!0,mozilla:!0,msie:!0,webkit:!0,opera:!0,vervsion:1.3},c.error=function(){var b=a.Error,d=c.env;return function(a){if(a&&(!d.client||d.dev))throw new b(a)}}(),c.extend=function(){var a=Object.prototype.toString,b="[object Object]";return function c(d){var e=arguments,f=d===!0?1:0,g,h=e[f];for(++f;f<e.length;++f)for(g in e[f])d===!0&&h[g]&&a.call(e[f][g])===b&&a.call(h[g])===b?c(d,h[g],e[f][g]):h[g]=e[f][g];return h}}(),c.filter=function(){},c.indexOf=function(){},c.inherits=function(){function c(a,b){a.prototype=Object.create(b.prototype,{constructor:{value:a,enumerable:!1}})}function b(b,c){a.prototype=c.prototype,b.prototype=new a,b.prototype.constructor=c}function a(){}return Object.create?c:b}(),c.lastIndexOf=function(){},c.map=function(){},c.noop=function(){},c.now=Date.now||function(){return(new Date).getTime()},c.toArray=function(){var a=Array.prototype.push,b=Array.prototype.slice,c=Object.prototype.toString,d="[object Array]",e="[object Object]",f="[object Arguments]";return function(a,g,h){var i=c.call(a);return i===d?g!=null||h!=null?b.call(a,g,h):a:a.length==null||i!==e&&i!==f?[a]:b.call(a,g,h)}}(),c.trim=function(){var a=/^\s+|\s+$/,b=String.prototype.trim||function(){return this.replace(a,"")};return function(a){return a?b.call(a):""}}(),c.type=function(){var b,c=a.String,d=a.Object.prototype.toString,e=["Boolean","Number","String","Function","Array","Date","RegExp","Object"],f={};for(b=0;b<e.length;++b)f["[object "+e[b]+"]"]=e[b].toLowerCase();return function(a,b){var e=a==null?c(a):f[d.call(a)]||"object";if(b)return b===e?!0:!1;return e}}(),function(){function i(a,d,e){if(d.optional&&!a)return!0;var f=h(a,d,"");if(f!==!0&&!e)throw f;d.schema&&function g(a,d){a&&c.each(a,function(a,c){if(a.optional&&d[c]===b)a["default"]&&(d[c]=a["default"]);else{f=h(d[c],a," ("+c+")");if(f!==!0){if(e)return!1;throw f}a.schema&&g(a.schema,d[c])}})}(d.schema,a);return f}function h(a,b,e){var f=c.type(b),h,j;if(f==="string")b={type:b};else if(f!=="object"&&f!=="function")throw g("BAD_SCHEMA","bad schema"+e);if(b.type){h=c.type(a);if(b.type!==h&&!(new d(b.type)).test(h))return g("TYPE","Found "+h+", but expected "+b.type+e)}if(f==="function"||b.custom){f==="function"?j=b(a):typeof b.custom==="string"?j=i[b.custom](a):j=b.custom(a),j===!1&&(j=g("CUSTOM_DEFAULT","custom validation failed"+e));return j}if(b.min!=null||b.max!=null){if(b.type!=="number")throw g("MIN_MAX_FOR_NUMBERS_ONLY","min and max can be used with numbers only"+e);if(a<b.min||a>b.max)return g("MIN_MAX","Found "+a+", but expected "+b.min+"-"+b.max+e)}if(b.length!=null&&a.length!==b.length)return g("LENGTH","Found "+a.length+", but expected "+b.length+e);if(b.minlength!=null||b.maxlength!=null)if(a.length<b.minlength||a.length>b.maxlength)return g("MINLENGTH_MAXLENGTH","Found "+a.length+", but expected "+b.minlength+"-"+b.maxlength+e);if(b.pattern&&!b.pattern.test(a))return g("PATTERN","pattern mismatch"+e);return!0}function g(a,b){return new f(a,b)}function f(a,b){this.name=a,this.message=e+b}var d=a.RegExp,e="Schema validation error, ";c.inherits(f,Error),f.prototype.toString=function(){return this.name+": "+this.message},c.validate=i,i.fail=g}(),function(){function d(a){return a.replace(b.regexpSpecial.tags," ").replace(b.regexpSpecial.whitespaces," ").replace(b.regexpSpecial.numbersandpunct,"")}var a=c.validate,b;b=a.options={regexp:{email:/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i,url:/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,dateISO:/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/,time:/^([01][0-9])|(2[0123]):([0-5])([0-9])$/,number:/^-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/,integer:/^-?\d+$/,digits:/^\d+$/,ziprange:/^90[2-5]\d\{2}-\d{4}$/,nowhitespace:/^\S+$/i,lettersonly:/^[a-z]+$/i,alphanumeric:/^\w+$/i,letterswithbasicpunc:/^[a-z-.,()'\"\s]+$/i,ipv4:/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/i,ipv6:/^((([0-9A-Fa-f]{1,4}:){7}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}:[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){5}:([0-9A-Fa-f]{1,4}:)?[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){4}:([0-9A-Fa-f]{1,4}:){0,2}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){3}:([0-9A-Fa-f]{1,4}:){0,3}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){2}:([0-9A-Fa-f]{1,4}:){0,4}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(([0-9A-Fa-f]{1,4}:){0,5}:((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(::([0-9A-Fa-f]{1,4}:){0,5}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|([0-9A-Fa-f]{1,4}::([0-9A-Fa-f]{1,4}:){0,5}[0-9A-Fa-f]{1,4})|(::([0-9A-Fa-f]{1,4}:){0,6}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){1,7}:))$/i},regexpSpecial:{words:/\b\w+\b/g,date:/Invalid|NaN/,tags:/<.[^<>]*?>/g,whitespaces:/&nbsp;|&#160;/gi,digitsanddashes:/[^0-9-]+/,numbersandpunkt:/[0-9.(),;:!?%#$'"_+=\/-]*/g,nodigets:/\D/g}},c.each(b.regexp,function(b,c){a[c]=function(d){return b.test(d)||a.fail("CUSTOM_"+c.toUpperCase(),"wrong "+c)}}),a.date=function(c){return!b.regexpSpecial.date.test(new Date(c))||a.fail("CUSTOM_DATE","wrong date")},a.creditcard=function(c){if(b.regexpSpecial.digitsanddashes.test(c))return!1;var d=0,e=0,f=!1,g,h,e;c=c.replace(b.regexpSpecial.nodigets,"");for(g=c.length-1;g>=0;g--)h=c.charAt(g),e=parseInt(h,10),f&&((e*=2)>9&&(e-=9)),d+=e,f=!f;return d%10==0||a.fail("CUSTOM_CREDITCARD","wrong creditcard data")},a.maxWords=function(c,e){return d(c).match(b.regexpSpecial.words).length<e||a.fail("CUSTOM_MAX_WORDS","too much words")},a.minWords=function(c,e){return d(c).match(b.regexpSpecial.words).length>=e||a.fail("CUSTOM_MIN_WORDS","too few words")},a.rangeWords=function(c,e){var f=d(c).match(b.regexpSpecial.words).length;return f>=e[0]||f<=e[1]||a.fail("CUSTOM_MIN_WORDS","words count range")}}()})(typeof global==="undefined"?this:global)